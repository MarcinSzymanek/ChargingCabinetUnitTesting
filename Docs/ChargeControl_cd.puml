@startuml ChargeControl_cd

enum StateID{
    NO_DEVICE
    FULLY_CHARGED
    CHARGING
    ERROR
}

class ChargeControl{
    - BaseState _state
    + void ChangeState(BaseState)
    + bool DeviceConnected()
    + int StartCharge()
    + int StopCharge()
    + void OnCurrentEvent()
}

class BaseState{
    + enum StateID StateId
    + string DisplayMessage
    + void MonitorCurrentEvent(double current)

}

interface IUSBCharger{
    + event CurrentEvent
    + int StartCharging()
    + int StopCharging()
}

interface IDisplay{
    SetChargingMessage(string msg)
}

StateID <-- ChargeControl
StationControl --> ChargeControl
ChargeControl --> IDisplay
ChargeControl --> IUSBCharger
BaseState --* ChargeControl
BaseState --> StateID


@enduml
